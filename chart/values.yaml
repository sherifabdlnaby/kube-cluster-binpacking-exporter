# -- Number of replicas for the exporter deployment
replicaCount: 1

image:
  # -- Container image repository
  repository: ghcr.io/sherifabdlnaby/kube-cluster-binpacking-exporter
  # -- Image pull policy. Valid values: `Always`, `IfNotPresent`, `Never`
  pullPolicy: IfNotPresent
  # -- Image tag. Defaults to the chart's `appVersion` when empty
  tag: ""

# -- Image pull secrets for private registries
imagePullSecrets: []
# -- Override the chart name
nameOverride: ""
# -- Override the full release name
fullnameOverride: ""

# -- Kubernetes resource types to track. Common values: `cpu`, `memory`, `nvidia.com/gpu`
resources:
  - cpu
  - memory

# -- Port on which the exporter serves metrics
metricsPort: 9101
# -- HTTP path for the metrics endpoint
metricsPath: /metrics

# -- Log level. Valid values: `debug`, `info`, `warn`, `error`
logLevel: info
# -- Log format. Valid values: `json`, `text`
logFormat: json

# -- Informer cache resync period. Uses Go duration format (e.g. `1m`, `5m`, `1h30m`)
resyncPeriod: 30m

# -- Page size for initial list calls. Use `0` to disable pagination. Recommended `500` for clusters with >1000 pods
listPageSize: 500

# -- Node label keys to group metrics by. Enables per-zone, per-instance-type metrics. Example: `["topology.kubernetes.io/zone"]`
labelGroups: []

# -- Disable per-node metrics to reduce cardinality. Recommended for clusters with >100 nodes
disableNodeMetrics: false

leaderElection:
  # -- Enable leader election for HA active-passive mode. Only the leader publishes binpacking metrics. Auto-enabled when `replicaCount > 1`
  enabled: false
  # -- Name of the Lease object used for leader election
  leaseName: binpacking-exporter
  # -- Duration that non-leader candidates will wait before attempting to acquire leadership
  leaseDuration: 15s
  # -- Duration that the leader will retry refreshing leadership before giving up
  renewDeadline: 10s
  # -- Duration between leader election retries
  retryPeriod: 2s

serviceAccount:
  # -- Create a service account for the exporter
  create: true
  # -- Annotations to add to the service account (e.g. for IAM role bindings)
  annotations: {}
  # -- Override the service account name. Defaults to the release name when empty
  name: ""

# -- Additional pod annotations. See chart README for Datadog auto-discovery example
podAnnotations: {}
# -- Additional pod labels
podLabels: {}

# @default -- See values.yaml
podResources:
  requests:
    # -- CPU request for the exporter pod
    cpu: 50m
    # -- Memory request for the exporter pod
    memory: 100Mi
  limits:
    # -- Memory limit for the exporter pod
    memory: 150Mi

# -- Priority class name for pod scheduling. Use an existing PriorityClass name
priorityClassName: ""

# -- Node selector for pod scheduling
nodeSelector: {}
# -- Tolerations for pod scheduling
tolerations: []
# -- Affinity rules for pod scheduling
affinity: {}
# -- Topology spread constraints for pod scheduling
topologySpreadConstraints: []

podDisruptionBudget:
  # -- Create a PodDisruptionBudget resource
  enabled: false
  # -- Minimum number of pods that must remain available. Cannot be set together with `maxUnavailable`
  minAvailable: ""
  # -- Maximum number of pods that can be unavailable. Cannot be set together with `minAvailable`
  maxUnavailable: ""

service:
  # -- Kubernetes service type
  type: ClusterIP
  # -- Service port
  port: 9101

serviceMonitor:
  # -- Create a Prometheus Operator ServiceMonitor resource
  enabled: false
  # -- Scrape interval
  interval: 30s
  # -- Scrape timeout
  scrapeTimeout: 10s
  # -- Additional labels for the ServiceMonitor (use to match your Prometheus selector labels)
  additionalLabels: {}
